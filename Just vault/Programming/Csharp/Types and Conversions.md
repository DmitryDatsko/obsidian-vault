---
tags:
  - csharp/types-and-conversion
files & media: Albahari Joseph - C# 12
status: Done
creation date: 2024-06-27 21:59
modification date: Thursday 27th June 2024 21:59:00
---
C# может конвертировать между экземплярами совместимых типов. Преобразование всегда создает новое значение из существующего. Преобразования могут быть как неявными[^1], так и явными[^2]: неявные преобразования происходят автоматически, а явные требуют приведения. В следующем примере мы неявно преобразуем int в тип long (который имеет вдвое большую разрядность, чем int) и явно приводим int к типу short (который имеет вдвое меньшую разрядность, чем int):[^source]

```csharp
int x = 12345; // int is a 32-bit integer 
long y = x; // Implicit conversion to 64-bit integer 
short z = (short)x; // Explicit conversion to 16-bit integer
```

> [!tip] Условия неявного преобразования
> Неявные[^1] преобразования допустимы, если верно одно из следующих условий:
> - компилятор ***может гарантировать***, что они всегда будут успешными.
> - при преобразовании ***не теряется никакая*** информация[^3]

> [!tip] Условия явного преобразования
> Явные[^2] преобразования допустимы, если верно одно из следующих условий:
> - компилятор ***не может гарантировать***, что они всегда будут успешными.
> - информация может быть потеряна при конвертации.

[^1]: implicit
[^2]: explicit
[^3]: Небольшая оговорка заключается в том, что очень большие long значения теряют некоторую точность при преобразовании в double.
[^source]: [[Albahari Joseph-Csharp 12 in a Nutshell2024.pdf#page=65]]